{"version":3,"sources":["counterspell/core.cljs"],"mappings":"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","names":["counterspell.core/with-index","coll","cljs.core.map_indexed","cljs.core/vector","counterspell.core/tiles-to-string","tiles","cljs.core.apply","cljs.core/str","cljs.core.map","counterspell.core/letter-at","grid","x","y","cljs.core.get_in","counterspell.core/letter-values","counterspell.core/score-word","word","cljs.core/+","counterspell.core/game-turns","counterspell.core/grid-rows","counterspell.core/grid-cols","counterspell.core/tile-states","counterspell.core/game-states","p__31686","vec__31687","cljs.core.nth","counterspell.core/neighbors","iter__5480__auto__","s__31691","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","xs__6360__auto__","cljs.core/first","iterys__5476__auto__","s__31693","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","cljs.core/count","b__31695","cljs.core/chunk-buffer","i__31694","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__31692","cljs.core/chunk-rest","cljs.core/cons","cljs.core/rest","fs__5477__auto__","cljs.core.concat","iter__31690","x'","cljs.core.range","y'","cljs.core._EQ_","cljs.core/set","cljs.core.disj","counterspell.core/random-letter-generator","seed","alphabet","cljs.core/clj->js","generator","js/module$vendor$jsrand","cljs.core.repeatedly","counterspell.core/generate-game-grid","random-seed","height","cljs.core.take","cljs.core.partition","cljs.core.mapv","letters","letter","counterspell.core/init-game","full-grid","starters","p1__31696#","cljs.core.into","reserve","p1__31697#","cljs.core.drop","counterspell.core/state","reagent.core.atom","p__31699","map__31700","cljs.core/--destructure-map","cljs.core.get","counterspell.core/is-selected?","p1__31698#","cljs.core/some","fexpr__31701","cljs.core/deref","counterspell.core/is-legal-selection?","temp__5802__auto__","tail","cljs.core/last","fexpr__31702","G__31704","fexpr__31703","counterspell.core/remove-selected-spaces-from-grid","selected","p__31705","vec__31706","col","cljs.core/second","cljs.core.remove","p__31709","vec__31710","tile","G__31713","counterspell.core/add-tiles-from-reserve","removed","by-col","cljs.core/group-by","s__31716","b__31718","i__31717","iter__31715","needed","extras","p1__31714#","cljs.core.assoc","counterspell.core/remove-tiles-from-reserve","s__31720","b__31722","i__31721","iter__31719","used","counterspell.core/words-by-first-letter","counterspell.words/words","p__31723","vec__31724","k","v","counterspell.core/path-to-word","path","p1__31727#","fexpr__31728","counterspell.core/words-reachable-from","words","G__31731","fexpr__31732","words-vec","cljs.core/vec","to-check","found-words","cljs.core/empty?","word-so-far","partial-word-re","cljs.core/re-pattern","is-full-word?","is-partial-word?","p1__31729#","cljs.core/re-find","unchecked-neighbors","cljs.core/disj","potential-paths","p1__31730#","cljs.core.conj","cljs.core/conj","cljs.core/pop","counterspell.core/run-scoring!","longest-paths-from-each-tile","s__31735","s__31737","b__31739","i__31738","iter__31736","iter__31734","cljs.core.sort_by","cljs.core/>","longest-words-with-paths","cljs.core/nil?","p1__31733#","cljs.core/PersistentVector","cljs.core.swap_BANG_","cljs.core/assoc","counterspell.core/after-advancing-turn!","fexpr__31741","js/setTimeout","old","p1__31740#","cljs.core.partial","cljs.core/mapv","counterspell.core/after-submitting-word!","gone","p1__31742#","fexpr__31743","cljs.core.update","counterspell.core/submit-word!","maybe-word","fexpr__31744","p__31746","map__31747","counterspell.core/tile-action!","selected-grid-space","fexpr__31748","fexpr__31749","new-selected","p1__31745#","cljs.core.take_while","counterspell.core/main","js/location.hash","js/location","fexpr__31751","counterspell.core/instructions","s__31753","b__31755","i__31754","vec__31756","iter__31752","vec__31769","grid-x","fexpr__31782","s__31760","b__31762","i__31761","vec__31763","iter__31759","vec__31766","s__31773","b__31775","i__31774","vec__31776","iter__31772","vec__31779","grid-y","counterspell.core/letter-tile","counterspell.core/word-in-progress","counterspell.core/found-words","p__31783","map__31784","cljs.core.merge","fexpr__31785","fexpr__31786","fexpr__31787","fexpr__31788","s__31790","b__31792","i__31791","iter__31789","fexpr__31793","fexpr__31794","fexpr__31795","s__31797","b__31799","i__31798","iter__31796","fexpr__31800","fexpr__31801","js/counterspell","js/counterspell.core","js/counterspell.core.root","counterspell.core/root","reagent.dom.client/create-root","js/document","counterspell.core/init","url-seed","cljs.core/parse-long","or__5002__auto__","cljs.core/rand-int","reagent.dom.client.render","cljs.core/chunk-first"],"sourcesContent":["(ns counterspell.core\n  (:require [reagent.dom.client :as rdom]\n            [reagent.core :as r]\n            [counterspell.words :refer [words]]\n            [\"/vendor/jsrand\" :as jsrand]))\n\n;;\n;; generic helpers\n;;\n(defn with-index [coll] (map-indexed vector coll))\n(defn tiles-to-string [tiles] (apply str (map :letter tiles)))\n(defn letter-at [grid x y] (:letter (get-in grid [x y])))\n\n(def letter-values\n  {\"a\" 1\n   \"b\" 3\n   \"c\" 3\n   \"d\" 2\n   \"e\" 1\n   \"f\" 4\n   \"g\" 2\n   \"h\" 4\n   \"i\" 1\n   \"j\" 8\n   \"k\" 5\n   \"l\" 1\n   \"m\" 3\n   \"n\" 1\n   \"o\" 1\n   \"p\" 3\n   \"q\" 10\n   \"r\" 1\n   \"s\" 1\n   \"t\" 1\n   \"u\" 1\n   \"v\" 4\n   \"w\" 4\n   \"x\" 8\n   \"y\" 4\n   \"z\" 10})\n\n(defn score-word [word]\n  (->> word\n       (map letter-values)\n       (apply +)))\n\n\n;;\n;; initial game data\n;;\n(def game-turns 3)\n;; TODO: how big should the grid be?\n(def grid-rows 6)\n(def grid-cols 5)\n\n(def tile-states #{:default :falling-in})\n(def game-states #{:selecting-tiles :submitting-word :advancing-turn :scoring})\n\n\n(defn neighbors [[x y]]\n  (->\n   (for [x' (range (dec x) (+ 2 x))\n         y' (range (dec y) (+ 2 y))]\n     (when (and (not (= [x y] [x' y']))\n                (<= 0 x')\n                (<= 0 y')\n                (< x' grid-cols)\n                (< y' grid-rows))\n       [x' y']))\n   set\n   (disj nil)))\n\n\n(defn random-letter-generator [seed]\n  (let [alphabet (clj->js \"abcdefghijklmnopqrstuvwxyz\")\n        generator (new jsrand seed)]\n    (repeatedly #(.choice generator alphabet))))\n\n\n(defn generate-game-grid [random-seed]\n  (let [height (* grid-rows (inc game-turns))]\n    (->> (random-letter-generator random-seed)\n         (take (* height grid-cols))\n         (partition height)\n         (mapv (fn [letters]\n                 (mapv (fn [letter]\n                         {:letter letter\n                          :state :default}) letters))))))\n\n\n(defn init-game [random-seed]\n  (let [full-grid (generate-game-grid random-seed)\n        starters (mapv #(into [] (take grid-rows %)) full-grid)\n        reserve (mapv #(into [] (drop grid-rows %)) full-grid)]\n    (def state (r/atom {:grid starters\n                        :random-seed random-seed\n                        :reserve-grid reserve\n                        :game-state :selecting-tiles\n                        :selected-grid-spaces []\n                        :bad-guess? false\n                        :remaining-words []\n                        :found-words []}))))\n\n\n;;\n;; game actions\n;;\n(defn is-selected? [{:keys [x y]}]\n  (some #(and (= x (% :x)) (= y (% :y))) (@state :selected-grid-spaces)))\n\n\n(defn is-legal-selection? [x y]\n  ;; NOTE: this currently assumes the space in question is deselected, because that's handled\n  ;;       further up the chain in tile-action! need to backfill that rule if this function\n  ;;       is to be used in any other context.\n  (if-let [tail (last (@state :selected-grid-spaces))]\n    ((neighbors [(tail :x) (tail :y)]) [x y])\n\n    ;; any space is legal if there are no current selections\n    true))\n\n\n(defn remove-selected-spaces-from-grid [grid selected]\n  (mapv (fn [[x col]]\n          (mapv second\n                (remove (fn [[y tile]]\n                          (selected [x y]))\n                        (with-index col))))\n        (with-index grid)))\n\n\n(defn add-tiles-from-reserve [grid reserve removed]\n  (into []\n        (let [by-col (group-by first removed)]\n          (for [x (range grid-cols)]\n            (let [col (nth grid x)\n                  needed (count (by-col x))\n                  extras (take needed (nth reserve x))]\n              (into []\n                    (concat col\n                            (map #(assoc % :state :falling-in) extras))))))))\n\n(defn remove-tiles-from-reserve [reserve removed]\n  (let [by-col (group-by first removed)]\n    (for [x (range grid-cols)]\n      (let [col (nth reserve x)\n            used (count (by-col x))]\n        (drop used col)))))\n\n\n\n;;\n;; scoring\n;;\n\n(def words-by-first-letter\n  (->> words\n       (group-by first)\n       (map (fn [[k v]] [k (set v)]))\n       (into {})))\n\n(defn path-to-word [path]\n  (apply str (map #(letter-at (@state :grid) (% 0) (% 1)) path)))\n\n\n;; 0. push our starting point onto the to-check queue\n;; while the queue is not empty:\n;;   1. pop a path from the to-check queue\n;;   2. is our path to this point a full word?\n;;      2a. if yes, push that into our \"found words paths\" set. continue on regardless.\n;;   3. is our path to this point a partial word?\n;;      3a. if no, continue on to next entry of queue\n;;      3b. if yes:\n;;        4. look at all neighbors of path's tail\n;;        5. subtract neighbors that are in our path already\n;;        6. put these possible paths on our list of paths to check\n;; finally, return the longest guy in the \"found words paths\" list\n(defn words-reachable-from [x y]\n  (let [words (words-by-first-letter (:letter (get-in (@state :grid) [x y])))\n        words-vec (vec words)]\n    (loop [to-check [[[x y]]]  ;; a queue (vector) of vectors of grid points, each one representing a path through the grid\n           found-words []]\n      (if (empty? to-check)\n        found-words\n        (let [path (last to-check)\n              word-so-far (path-to-word path)\n              partial-word-re (re-pattern (str \"^\" word-so-far))\n              is-full-word? (words word-so-far)\n              is-partial-word? (some #(re-find partial-word-re %) words-vec)\n              unchecked-neighbors (apply disj (neighbors (last path)) path)\n              potential-paths (mapv #(conj path %) unchecked-neighbors)]\n          (recur (if is-partial-word?\n                   (apply conj (pop to-check) potential-paths)     ;; keep searching down this path if it might be a word\n                   (pop to-check))                                 ;; if not, abandon this path and go back to the rest\n                 (if is-full-word?\n                   (conj found-words path)\n                   found-words)))))))\n\n\n(defn run-scoring! []\n  (let [longest-paths-from-each-tile (for [x (range grid-cols)\n                                           y (range grid-rows)]\n                                       (->> (words-reachable-from x y)\n                                            (sort-by count >)\n                                            first))\n        longest-words-with-paths (->> longest-paths-from-each-tile\n                                      (remove nil?)\n                                      (map #(vector (path-to-word %) %)))]\n    (swap! state assoc\n           :remaining-words longest-words-with-paths\n           :game-state :done)))\n\n\n\n  ;; NOTE: this should be called only on a setTimeout, as a next step action after post-word-submit grid update\n(defn after-advancing-turn! []\n  (if (= game-turns (count (@state :found-words)))\n    (do\n      (swap! state assoc :game-state :scoring)\n      (js/setTimeout run-scoring! 1000))\n\n    (swap! state (fn [old]\n                   (-> old\n                       (assoc :game-state :selecting-tiles)\n                       (assoc :grid (mapv (partial mapv #(assoc % :state :default)) (old :grid))))))))\n\n\n\n;; NOTE: this should be called only on a setTimeout, as a next step action after word submit\n(defn after-submitting-word! []\n  (do\n    (swap! state (fn [old]\n                   (let [gone (into #{} (map #(vector (% :x) (% :y)) (@state :selected-grid-spaces)))]\n                     (-> old\n                         (assoc :grid (-> (old :grid)\n                                          (remove-selected-spaces-from-grid gone)\n                                          (add-tiles-from-reserve (old :reserve-grid) gone)))\n                         (assoc :game-state :advancing-turn)\n                         (assoc :selected-grid-spaces [])\n                         (update :reserve-grid remove-tiles-from-reserve gone)))))\n    (js/setTimeout after-advancing-turn! 600)))\n\n\n\n(defn submit-word! []\n  (let [maybe-word (tiles-to-string (@state :selected-grid-spaces))]\n    (if (words maybe-word)\n      (do\n        (swap! state (fn [old]\n                       (-> old\n                           (update :found-words conj maybe-word)\n                           (assoc :game-state :submitting-word))))\n        (js/setTimeout after-submitting-word! 470))\n\n      (swap! state assoc :bad-guess? true))))\n\n\n(defn tile-action! [{:keys [x y tile]}]\n  (let [selected-grid-space {:x x :y y :letter (tile :letter)}]\n    (when (= :selecting-tiles (@state :game-state))\n      (if (is-selected? selected-grid-space)\n        (if (= selected-grid-space (last (@state :selected-grid-spaces)))\n\n          ;; if you click the last selected tile again, submit the word\n          (submit-word!)\n\n          ;; if you click a selected tile in the middle of the chain, revert selection to it\n          (swap! state (fn [old]\n                         (let [new-selected (conj (->> (old :selected-grid-spaces)\n                                                       (take-while #(not (= % selected-grid-space)))\n                                                       (into []))\n                                                  selected-grid-space)]\n                           (assoc old :selected-grid-spaces new-selected\n                                  :bad-guess? false)))))\n\n        (if (is-legal-selection? x y)\n\n          ;; if you click an unselected tile, select it if it's a valid selection!\n          (swap! state (fn [old]\n                         (assoc old\n                                :selected-grid-spaces\n                                (conj (old :selected-grid-spaces) selected-grid-space)\n                                :bad-guess? false)))\n\n          ;; if you click an unselected tile that's *not* a valid selection, deselect all!\n          (swap! state assoc :selected-grid-spaces [] :bad-guess? false))))))\n\n\n;;\n;; UI components\n;;\n\n(declare letter-tile)\n(declare word-in-progress)\n(declare found-words)\n(declare instructions)\n\n\n(defn main []\n  [:div\n   [:div {:comment \"header bar\"\n          :style {:width \"100%\"\n                  :background \"rgb(62, 62, 62)\"\n                  :display \"flex\"\n                  :align-items \"baseline\"\n                  :justify-content \"space-between\"}}\n    [:h1 {:class \"other-font\"\n          :style {:font-size \"20px\"\n                  :letter-spacing \"0.06rem\"\n                  :padding \"0.7rem 1rem\"\n                  :color \"white\"}}\n     \"Counterspell\"]\n    [:div {:class \"fancy-font\"\n           :style {:display \"flex\"\n                   :gap \"2rem\"}}\n     [:a {:href \"#\"\n          :on-click #(do (set! js/location.hash \"\")\n                         (.reload js/location))\n          :style {:color \"yellow\"\n                  :font-size \"16px\"}}\n      \"Try a different board\"]\n     [:a {:href \"https://itch.io/jam/spring-lisp-game-jam-2024\"\n          :target \"_blank\"\n          :style {:color \"white\"\n                  :font-size \"14px\"}}\n      \"Made for Spring Lisp Game Jam 2024\"]\n     [:a {:href \"https://basecase.itch.io/counterspell\"\n          :target \"_blank\"\n          :style {:color \"white\"\n                  :font-size \"14px\"}}\n      \"itch.io Page\"]]]\n   [:h6 {:style {:color \"#777\"}} (str \"(seed: \" (@state :random-seed) \")\")]\n   [:div {:style {:display \"flex\"\n                  :flex-direction \"row\"\n                  :gap \"1rem\"\n                  :padding-top \"2rem\"}}\n    [instructions]\n    [:div\n     [:div {:comment \"the letter grid\"\n            :style {:display \"flex\"\n                    :gap \"5px\"}}\n      (for [[grid-x col] (with-index (@state :grid))]\n        [:div {:comment \"one column of tiles\"\n               :key grid-x\n               :style {:display \"flex\"\n                       :flex-direction \"column-reverse\"\n                       :align-items \"center\"\n                       :gap \"5px\"}}\n         (for [[grid-y tile] (with-index col)]\n           [letter-tile {:key grid-y\n                         :tile tile\n                         :grid-x grid-x\n                         :grid-y grid-y}])])]\n     [word-in-progress]]\n    [found-words]]])\n\n\n(defn letter-tile [{:keys [tile grid-x grid-y]}]\n  [:div {:comment \"a single letter tile\"\n         :class \"letter-tile fancy-font\"\n         :style (merge {:padding \"1.2rem\"\n                        :width \"100%\"\n                        :font-size \"24px\"\n                        :box-shadow \"rgba(0, 0, 0, 0.3) 0px 2px 1px 0px\"\n                        :border-radius \"4px\"}\n                       (if (is-selected? {:x grid-x :y grid-y})\n                         {:border \"1px solid rgb(0, 86, 196)\"\n                          :background \"rgb(171, 208, 255)\"\n                          :box-shadow \"none\"\n                          :animation (when (= :submitting-word (@state :game-state))\n                                       \"fade-out forwards 0.5s\")}\n                         {:border \"1px solid #555\"})\n                       (when (and (= :falling-in (tile :state))\n                                  (= :advancing-turn (@state :game-state)))\n                         {:animation \"0.5s forwards fall-in\"}))\n         :on-click #(tile-action! {:x grid-x :y grid-y :tile tile})}\n   (.toUpperCase (tile :letter))])\n\n\n(defn word-in-progress []\n  (let [maybe-word (tiles-to-string (@state :selected-grid-spaces))]\n    [:div {:comment \"the currently-being-spelled word\"\n           :style {:padding \"1rem\"\n                   :font-size \"200%\"\n                   :font-weight 900}\n           :class [\"fancy-font\" (when (@state :bad-guess?) \"naughty\")]}\n     [:h2 (.toUpperCase maybe-word)]]))\n\n\n(defn found-words []\n  [:div {:style {:margin-left \"1rem\"}}\n   [:h2 {:class \"other-font\"} \"Found words:\"]\n   [:ul\n    (for [word (@state :found-words)]\n      [:li {:class \"fancy-font\"} word])]\n   (when (= :scoring (@state :game-state))\n     [:<>\n      [:hr]\n      [:h2 {:class \"other-font\"} \"Scoring. Stand by...\"]])\n   (when (= :done (@state :game-state))\n     [:<>\n      [:hr]\n      [:h2 {:class \"other-font\"} \"Words remaining on board:\"]\n      [:table\n       [:tbody\n        (for [word (map first (@state :remaining-words))]\n          [:tr {:class \"fancy-font\"}\n           [:td word]\n           [:td (score-word word)]])]]\n      [:hr]\n      [:h2 {:class \"other-font\"} \"Final score (lower is better)\"]\n      [:h3 {:class \"fancy-font\"\n            :style {:font-size \"28px\"\n                    :color \"blue\"}} (->> (@state :remaining-words) (map first) (map score-word) (apply +))]\n      [:div\n       [:a {:href \"#\"\n            :on-click #(.reload js/location)} \"Try this board again\"]]\n      [:div\n       [:a {:href \"#\"\n            :on-click #(do (set! js/location.hash \"\")\n                           (.reload js/location))} \"Try a new random board\"]]\n      [:div\n       [:a {:href (str (.-origin js/location) (.-pathname js/location) (.-hash js/location))}\n        \"Copy this link to challenge someone else to the same board.\"]]])])\n\n(defn instructions []\n  [:div {:style {:padding \"0 2rem\"\n                 :width \"21rem\"}}\n   [:h2 {:class \"other-font\"\n         :style {:border-bottom \"1px solid #ccc\"}} \"How to play\"]\n   [:ul {:class \"other-font\"\n         :style {:padding \"1rem 0 0 0\"\n                 :font-size \"14px\"}}\n    [:li \"The goal of Counterspell is to get the lowest score possible.\"]\n    [:li \"You have 3 turns to find words on the board and clear them.\"]\n    [:li \"Words are spelled by making a path of adjacent (orthogonal and diagonal) tiles.\"]\n    [:li \"Tiles will fall to fill in cleared board spaces.\"]\n    [:li \"Score is calculated at the end of the game based on words remaining on the board.\"]\n    [:li \"Boards are randomly generated, based on seeds. Replay the same seed and it will be the same board.\"]\n    [:li \"Try to beat your own score or challenge a friend!\"]]])\n\n\n(defonce root (rdom/create-root (.querySelector js/document \"#root\")))\n\n(defn\n  ^:dev/after-load\n  init\n  []\n  (let [url-seed (->> (.-hash js/location)\n                      (drop 1)\n                      (apply str)\n                      (parse-long))\n        seed (or url-seed (rand-int 10000))]\n    (set! js/location.hash seed)\n    (init-game seed)\n    (rdom/render root [main])))\n"]}